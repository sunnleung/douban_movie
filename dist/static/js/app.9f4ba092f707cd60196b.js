webpackJsonp([1],{"++aR":function(t,e){},"+7VH":function(t,e){},"+IT2":function(t,e){},"/8D6":function(t,e){},"04iI":function(t,e){},"1Qbg":function(t,e){},"396G":function(t,e){},"4o78":function(t,e){},"7Otq":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjIyMUZGOTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjIyMUZGQTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAyMjIxRkY3NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyMjIxRkY4NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+vlyY+wAAAYBQTFRFBa8QAKoAFdkhLsg4E8YeAMYBALEAN9JBAMoJErAcB8wTBsYSg9qIB9ITB88TWthijt+TBbAQB84TAM0ABsASBsQS////BsISALsABsoTBscTBrkRBroRBbYRBr4SdNt7b+V3SuFTBbQRBbMR5frmALIJoeOl7fvuE7sdBrwSKbwzCcgWTNRUeOh/FNAf0fbUxvXJHbUnt+i6QsVKSstTk+uYoOylcN13tvK6yu/N8/z0Y9psverAo++oAKMAwuzF+v77AK8LbNVxUsdaAbcKdNN74vbjYMtnrOawxu3JvvPB2/XdGMAjVs5fCNMW2fnbac9wBboQAtEQC7MUOsJDB80WB7oTB7gT/P/8BrYSBLYRBawQB9cUB9YUB9QUB9UUBa0QBrcRQtpLBrwRB64SBbURV+JfC9gYDdYab8919/33BrYUqvGvBc4SBrMTCK8PBrsTBrQSELwbBbEQ+/77BbgRBbgSCK8T6PnqBMsOBbwQA84NC70V2PTazvDQ////esWf9QAAAIB0Uk5T/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wA4BUtnAAAEbUlEQVR42uzb/V/aRhzA8Ts0B2yM0rI6NrcpKoJYmIA4yxR8SBWcWmmpXS3Wyaabm9s6Hzasq/zrDTjygM038Y7c+Wr7+a25+H2TiIEqQY3OooeJcM3VxdzhwamRKwzq+PfhvqvqROFsFIDnss6orVyJETN4wkG2Rc++HU5UHW8/ehV+WKtyyDXdCR9WOZUwwtxcVb6E61WOrejgGk/4l6gKJ6pcq7XhiSrnsv/Drm3ePWzBWe7udrgF8z/g5iGjxrQAd3tQgfd3BORqoNyvIuCdFXQoxN0ZRIkXQqqhsBjYjdxiYBdyfYB5wclPzHvEGDA6CcDrQebW12ng8+TsClPT4SDNEful2T7GTvxBCvhRcIIV/iEJwX6TzoPTrHAuGTSbDsIrrPBvdLDEfKr7qGC/tM/qTnnOaWC/5K4x5fac+QH4jml/SIyd+01ng7CTKfBHQrrJ8JmHojNm+IlHooElzxNL+HMwz/jUNxRlx8/guZawNEh37bglscIJOvg7ZvhbQUccooVDNxbu/QJMD0eXRuByehie23sd2C2Ng4VuOQT3hOAXo5DbqSO2GBa6dy34YzAjbLGvAYb3fS/hu2BG2GJfAwzv+wF+L+DPwIywxb4GGN5XgT8FIwYY3tcIw/u+GzDRw6SLcC8mYLjHITi7MAC2UHQIvtZbH0t49Wswehieu3pz4QFRsI/yfxKWcGwMjGTo4B4Cz42ho5/AXpHJgHW+UVX83tfckCGv4LlHKPYl2FiZ2Ci/psKT+daWsTF4bswKViorvZTbhvyyfCWZvFZ/mfcfaW6xHGoHbnZ61HNZXJE7FzeJdq1ME9nWQLswVn+qRq9OLuOACi/gTbtwv53IpDq6gjc7FmUyoq7Gia15/XZhWa63Rxdx2bi2ibVHdUFk2/CprXRnc5U8NSzJOK2uDeB+e/MUeNdOT3VH5cP/6JdOSUx/3Ti1NW/XLrxLjubaw5dIxPiYFlS3LpPdLsMyntGuEfiZYaWkrpSIbB/+yl7aD5Ty9NrSL6xqZzpgWIG6BlzR5sfwM3X7Fta9flV0C5bwnr30T6FAfkvdHhmuay8QJGJz2h4ID0V0EVzQfv0TIep2HNcekC8fMQTDQyb9TozvZvO6U7qW1zZvaJsz+Y73u3t/m00H4PnHo/f1FZZ0f1AqqZtLc9rm1wX9F1yU1vAQAA+blH/A/GenvsfEbDoEB5jduRimgX3McI4OZj/iEzq4G99jAPYemzT/V2CGrfQiNht+7DWH/5zPY9aGaeDj49vzjJmPbsK3heRFKTFwCsWRkFIoIwaOow0xcAWNioGXUV0MXESNigj33xxqBETAiw3UyP38I/8Kzc/eHvB3460P/Ub5H/LM5eeri885t9z+KHuGr+s9acM5L1e4pN01UODpBvQ3aDzg52aMt6RwkxdPOm7CSXs5nmfDbUdLHJ7bqZm33mjlc9rdyJncWnZ/0Um2kgZuprs4SDl00VhOw3fxKc+yg0w8lfJ2r1S8slyMdjJvBBgAjaD61EhSiREAAAAASUVORK5CYII="},"7qd+":function(t,e){},"7rjm":function(t,e){},"9n10":function(t,e){},"9xeA":function(t,e){},BNwI:function(t,e){},DAEq:function(t,e){},"G/2H":function(t,e,s){t.exports=s.p+"static/img/loading.eb5079a.gif"},"G4/b":function(t,e){},IGIl:function(t,e){},LsQw:function(t,e){},M6Sr:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};s.d(a,"markWantedMovie",function(){return xe}),s.d(a,"markWatchedMovie",function(){return Ie}),s.d(a,"markCelebrity",function(){return Me}),s.d(a,"markSearchHistory",function(){return Re}),s.d(a,"deMarkSearchHistory",function(){return Ee}),s.d(a,"clearAllSearchHistory",function(){return Ne});var i={};s.d(i,"wantedMovies",function(){return Ae}),s.d(i,"watchedMovies",function(){return Be}),s.d(i,"celebrities",function(){return We}),s.d(i,"searchHistory",function(){return Fe});var n=s("7+uW"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom border-top"},[s("router-link",{staticClass:"bottomBtn",attrs:{to:"/movie-show",tag:"div"}},[s("span",{staticClass:"iconfont bottom-icon"},[t._v("")]),t._v(" "),s("span",[t._v("热映")])]),t._v(" "),s("router-link",{staticClass:"bottomBtn",attrs:{to:"/rank"}},[s("span",{staticClass:"iconfont bottom-icon"},[t._v("")]),t._v(" "),s("span",[t._v("排行")])]),t._v(" "),s("router-link",{staticClass:"bottomBtn",attrs:{to:"/user",tag:"div"}},[s("span",{staticClass:"iconfont bottom-icon"},[t._v("")]),t._v(" "),s("span",[t._v("我的")])])],1)},staticRenderFns:[]};var r={name:"App",data:function(){return{bottomTabShow:!0}},components:{tab:s("VU/8")({},o,!1,function(t){s("++aR")},"data-v-c66301ae",null).exports},methods:{bottomTabShowFn:function(){var t=this.$route.params.id,e=this.$route.params.celebrityID;this.bottomTabShow=!t&&!e}},mounted:function(){this.bottomTabShowFn()},updated:function(){this.bottomTabShowFn()}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",{attrs:{include:"home,rank"}},[e("router-view")],1),this._v(" "),e("tab",{directives:[{name:"show",rawName:"v-show",value:this.bottomTabShow,expression:"bottomTabShow"}]})],1)},staticRenderFns:[]};var l=s("VU/8")(r,c,!1,function(t){s("iHd7")},null,null).exports,u=s("/ocq"),h=new n.a,d={name:"HomeHeader",data:function(){return{tabShowNow:!0}},methods:{handleTabShow:function(t){var e=this.$refs.tabShow;t.target===e?this.tabShowNow=!0:this.tabShowNow=!1,h.$emit("tabShow",this.tabShowNow)}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"search"},[t._m(0),t._v(" "),s("router-link",{staticClass:"searchInput",attrs:{to:"/search",tag:"div"}},[s("span",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v('电影/影人/标签"')])])],1),t._v(" "),s("ul",{staticClass:"tab-show"},[s("li",{ref:"tabShow",class:this.tabShowNow?"border-bottom":"",on:{click:t.handleTabShow}},[t._v("\n      正在上映\n    ")]),t._v(" "),s("li",{class:this.tabShowNow?"":"border-bottom",on:{click:t.handleTabShow}},[t._v("\n      即将上映\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{staticClass:"logoImg",attrs:{src:s("7Otq"),alt:""}})])}]};var m=s("VU/8")(d,v,!1,function(t){s("Uw8Q")},"data-v-57c9db72",null).exports,f=s("//Fk"),p=s.n(f),_=s("woOf"),g=s.n(_),w=s("mtWM"),b=s.n(w),C={apiKey:"0b2bdeda43b5688921839c8ecb20399b"};var k={name:"loadmore",props:{hasMoreData:{type:Boolean,default:!0}}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"loadmore"},[this.hasMoreData?e("div",[e("span",{staticClass:"loading-spot"}),this._v(" "),e("span",{staticClass:"loading-spot"}),this._v(" "),e("span",{staticClass:"loading-spot"}),this._v(" "),e("span",{staticClass:"loading-spot"}),this._v(" "),e("span",{staticClass:"loading-spot"})]):e("div",[e("span",[this._v("没有更多数据了")])])])])},staticRenderFns:[]};var S=s("VU/8")(k,L,!1,function(t){s("/8D6")},"data-v-18a0b7f7",null).exports,y={name:"star",props:{score:{type:Number,default:0},showScoreNum:{type:Boolean,default:!0},showEmpty:{type:Boolean,default:!1},starStyle:{type:Object,default:function(){return{}}}},computed:{showScore:function(){var t=this.score.toString();return t.length<2&&(t+=".0"),t},starCls:function(){for(var t=[],e=this.score/2,s=1;s<=e;s++)t.push("onstar");e%1>=.5&&t.push("halfstar");for(var a=t.length;a<5;a++)t.push("offstar");return t}}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{display:"inline-block"}},[t._l(t.starCls,function(e,a){return t.score||t.showEmpty?s("span",{key:a,staticClass:"star-icon",class:e}):t._e()}),t._v(" "),t.score?t._e():s("span",{style:t.starStyle},[t._v("暂无评分")]),t._v(" "),t.score&&t.showScoreNum?s("span",[t._v(t._s(t.showScore))]):t._e()],2)},staticRenderFns:[]};var T=s("VU/8")(y,D,!1,function(t){s("396G")},"data-v-4c125918",null).exports,x={name:"movieList",components:{loadmore:S,star:T},props:{showList:{type:Array},isLoading:{type:Boolean},hasMoreData:{type:Boolean},showOnline:{type:Boolean},nowScrollY:{type:Number,default:0}},data:function(){return{dateTop:[],dateList:[],nowY:0}},methods:{compareDate:function(t,e){for(var s=0;s<e.length;s++)if(e[s]===t)return!1;return e.push(t),!0},groupDate:function(){var t=this;if(!this.showOnline){var e=[];this.showList.forEach(function(s,a){t.compareDate(s.pubdates,e)?t.$set(s,"dateShow",!0):t.$set(s,"dateShow",!1)}),this.dateList=e}},getHeight:function(){if(!this.showOnline&&this.$refs.date){var t=this.$refs.date;if(t.length!==this.dateTop.length){for(var e=[],s=0;s<t.length;s++){var a=t[s].offsetTop;e.push(a)}this.dateTop=e,this.dateFixed()}}},dateFixed:function(){for(var t=this.$refs.dateFixed,e=0;e<this.dateTop.length;e++)this.dateTop[e]<this.nowY&&(t.style.opacity=1,t.innerHTML=this.dateList[e],this.dateTop[e+1]?t.style.top=this.dateTop[e+1]-30>this.nowY?this.nowY/50+"rem":(this.dateTop[e+1]-30)/50+"rem":t.style.top=this.nowY/50+"rem");this.dateTop[0]>=t.offsetTop&&(t.style.opacity=0)}},watch:{showList:function(){this.groupDate()},nowScrollY:function(t,e){this.nowY=t?-1*t:-1*e,this.$refs.dateFixed&&this.dateFixed()}},updated:function(){this.getHeight()}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{ref:"movielist",staticClass:"list"},[t.showOnline?t._e():s("div",{ref:"dateFixed",staticClass:"fixedDate pubdate"}),t._v(" "),t._l(t.showList,function(e){return s("router-link",{key:e.id,attrs:{to:/detail/+e.id,tag:"li"}},[!t.showOnline&&e.dateShow?s("div",{ref:"date",refInFor:!0,staticClass:"pubdate"},[t._v(t._s(e.pubdates))]):t._e(),t._v(" "),s("div",{staticClass:"list-container"},[s("div",{staticClass:"list-wrapper"},[s("div",{staticClass:"poster-block"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.images,expression:"item.images"}],staticClass:"img-content",attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"info"},[s("h3",{staticClass:"movie-name"},[t._v(t._s(e.title))]),t._v(" "),s("star",{attrs:{score:e.score}}),t._v(" "),s("p",{staticClass:"info-detail"},[t._v("导演："),s("span",[t._v(t._s(e.directors))])]),t._v(" "),s("p",{staticClass:"info-detail"},[t._v("主演："),s("span",[t._v(t._s(e.casts))])]),t._v(" "),s("p",{staticClass:"seen-count"},[t._v(t._s(e.collect_count)+"人看过")])],1)])])])}),t._v(" "),t.isLoading?s("loadmore",{attrs:{hasMoreData:t.hasMoreData}}):t._e()],2)])},staticRenderFns:[]};var M=s("VU/8")(x,I,!1,function(t){s("Q88Y")},"data-v-e9474e34",null).exports,R=s("GQaK");function E(t){var e=[];return t.forEach(function(t,s){var a,i,n;e.push({id:t.id,title:t.title,images:W(t.images.large),casts:B(t.casts),directors:F(t.directors),collect_count:t.collect_count,score:t.rating.average,pubdates:(i=t.pubdates,n="",i.forEach(function(t,e){t.indexOf("中国大陆")>-1&&(n=function(t){var e=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][new Date(t).getDay()],s="";if(t.split("-")[1]){var a=t.split("-")[2]?t.split("-")[2]+"日":"待定";s=t.split("-")[1]+"月"+a}else s="待定";"0"===s.substr(0,1)&&(s=s.substr(1));var i=s+" "+e;return function(t){return parseInt(new Date(t).getFullYear())>parseInt((new Date).getFullYear())}(t)&&(i=t.split("-")[0]+"年"+s+" "+e),i}(n=t.split("(")[0]))}),n),searchShow:(a=t.rating.average,(0===a?"暂无评分":a)+"/"+j(t.pubdates))})}),e}function N(t){var e=[];return t.forEach(function(t,s){t=t.subject?t.subject:t,e.push({id:t.id,title:t.title,images:W(t.images.large),casts:B(t.casts),directors:F(t.directors),score:t.rating.average})}),e}function A(t){var e,s,a,i,n;return g()({},{id:t.id,title:t.title,original_title:"原名："+t.original_title,yearGenres:(i=t.year,n=t.genres,i+"/"+n.join("/")),pubdates:"上映时间："+j(t.pubdates),durations:"片长："+t.durations,ratings_count:t.ratings_count+"人",score:t.rating.average,images:W(t.images.large),summary:t.summary,castList:(e=t.directors,s=t.casts,a=[],e.forEach(function(t,e){t.id&&t.avatars&&a.push({id:t.id,imgurl:W(t.avatars.large),castName:t.name,castTitle:"导演"})}),s.forEach(function(t,e){a.push({id:t.id,imgurl:W(t.avatars.large),castName:t.name})}),a),comments_count:t.comments_count,reviews_count:t.reviews_count,popular_comments:t.popular_comments,popular_reviews:t.popular_reviews,directors:F(t.directors),casts:B(t.casts)})}function B(t){var e="";return t.forEach(function(s,a){a<t.length-1?e+=s.name+"/":e+=s.name}),e}function W(t){if(t)return"https://images.weserv.nl/?url="+t.substring(7)}function F(t){return t.length?t[0].name:""}function j(t){var e="";return t.forEach(function(t,s){t.indexOf("中国大陆")>-1&&(e=t)}),e.length||t.length&&(e=t[0]),e}var U={name:"HomeList",components:{movieList:M},data:function(){return{onshowList:[],comingList:[],needLoadMore:!1,onceLoadCount:10,nowLoadNum1:0,nowLoadNum2:0,isLoading:!1,isComingLoading:!1,hasMoreOnline:!0,hasMoreComing:!0,showOnline:!0,nowScrollY:0}},methods:{loadmoreFn:function(t,e){var s=this;if(this.showOnline){if(this.isLoading)return;this.isLoading=!0,function(t,e){var s=g()({},C,{start:t,count:e});return b.a.get("/v2/movie/in_theaters",{params:s}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}(t,e).then(function(a){s.checkMoreData(a);var i=E(a.subjects);s.onshowList=s.onshowList.concat(i),s.nowLoadNum1=t+e,s.hasMoreOnline&&(s.isLoading=!1)})}else{if(this.isComingLoading)return;this.isComingLoading=!0,function(t,e){var s=g()({},C,{start:t,count:e});return b.a.get("/v2/movie/coming_soon",{params:s}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}(t,e).then(function(a){s.checkMoreData(a);var i=E(a.subjects);s.comingList=s.comingList.concat(i),s.nowLoadNum2=t+e,s.hasMoreComing&&(s.isComingLoading=!1)})}},checkMoreData:function(t){(!t.subjects.length||t.start+t.count>t.total)&&(this.showOnline?(this.hasMoreOnline=!1,this.isLoading=!0):(this.hasMoreComing=!1,this.isComingLoading=!0))},handleScroll:function(){var t=this;this.scroll=new R.a(this.$refs.wrapper,{probeType:3,click:!0}),this.scroll.on("scroll",function(e){t.showOnline||(t.nowScrollY=e.y),e.y<=t.scroll.maxScrollY+40&&(t.showOnline?t.loadmoreFn(t.nowLoadNum1,t.onceLoadCount):t.loadmoreFn(t.nowLoadNum2,t.onceLoadCount))})},getTabShow:function(){var t=this;h.$on("tabShow",function(e){t.showOnline=e,t.showOnline?t.scroll.scrollTo(0,0):(t.scroll.scrollTo(0,t.nowScrollY),t.scroll.refresh())})}},mounted:function(){this.getTabShow(),this.loadmoreFn(this.nowLoadNum1,this.onceLoadCount),this.handleScroll()},watch:{showOnline:function(){this.showOnline?this.onshowList.length||this.loadmoreFn(this.nowLoadNum1,this.onceLoadCount):this.comingList.length||this.loadmoreFn(this.nowLoadNum2,this.onceLoadCount)}}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",staticClass:"wrapper"},[t.showOnline?s("movie-list",{attrs:{showList:t.onshowList,isLoading:t.isLoading,hasMoreData:t.hasMoreOnline,showOnline:t.showOnline}}):s("movie-list",{attrs:{showList:t.comingList,isLoading:t.isComingLoading,hasMoreData:t.hasMoreComing,showOnline:t.showOnline,nowScrollY:t.nowScrollY}})],1)},staticRenderFns:[]};var Y={name:"home",components:{HomeHeader:m,onshowList:s("VU/8")(U,H,!1,function(t){s("LsQw")},"data-v-4b633fb7",null).exports}},G={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("home-header"),this._v(" "),e("onshow-list")],1)},staticRenderFns:[]};var O=s("VU/8")(Y,G,!1,function(t){s("7rjm")},"data-v-b652cfd6",null).exports,$={name:"searchInput",data:function(){return{searchText:""}},methods:{sendInputTextBus:function(){h.$emit("inputListener",this.searchText)},checkInput:function(){this.$emit("checkInputOrNot",this.searchText)},acceptHistorySearch:function(){var t=this;h.$on("historySearch",function(e){t.searchText=e})}},mounted:function(){this.acceptHistorySearch()},watch:{searchText:function(){this.sendInputTextBus(),this.checkInput()}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"input-container"},[s("div",{staticClass:"input"},[s("span",{staticClass:"iconfont searchicon"},[t._v("")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"inputarea",attrs:{type:"text",placeholder:"搜索电影/影人"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}})]),t._v(" "),s("router-link",{staticClass:"input-cancel",attrs:{to:"/",tag:"div"}},[t._v("取消")])],1)])},staticRenderFns:[]};var z=s("VU/8")($,V,!1,function(t){s("pfoN")},"data-v-79de6d71",null).exports,Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"category-container"},t._l(t.categoryList,function(e,a){return s("li",{key:a,staticClass:"category-list border-bottom"},t._l(e,function(e,a){return s("div",{key:a,staticClass:"category-box border",on:{click:function(s){t.handleTagClick(e)}}},[t._v(t._s(e))])}))}))])},staticRenderFns:[]};var J=s("VU/8")({name:"searchCategory",data:function(){return{categoryList:{doubanTag:["经典","豆瓣高分","冷门佳片"],movieTag:["剧情","爱情","喜剧","科幻","动作","悬疑","治愈","青春","文艺"],countryTag:["日本","韩国"]}}},methods:{handleTagClick:function(t){this.$emit("tagClick",t)}}},Q,!1,function(t){s("vnw2")},"data-v-3fa2bb24",null).exports,Z=s("Dd8w"),P=s.n(Z),X=s("NYxO"),q={name:"searchHistory",computed:P()({},Object(X.c)(["searchHistory"])),methods:P()({deleteSearch:function(t){this.deMarkSearchHistory(t)},clearSearch:function(){this.clearAllSearchHistory()},historySearchAgain:function(t){h.$emit("historySearch",t)}},Object(X.b)(["deMarkSearchHistory","clearAllSearchHistory"]))},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"history-wrapper"},[s("div",{staticClass:"history-container"},[s("span",{staticClass:"history-title"},[t._v("搜索历史")]),t._v(" "),s("span",{staticClass:"iconfont clear-bin",on:{click:t.clearSearch}},[t._v("")])]),t._v(" "),s("ul",t._l(t.searchHistory,function(e,a){return s("li",{key:a,staticClass:"history-list",on:{click:function(s){t.historySearchAgain(e)}}},[s("span",[t._v(t._s(e))]),t._v(" "),s("span",{staticClass:"iconfont",on:{click:function(s){s.stopPropagation(),t.deleteSearch(e)}}},[t._v("")])])})),t._v(" "),t.searchHistory.length?t._e():s("p",{staticClass:"non-history"},[t._v("还没有搜索历史，快去搜索吧:)")])])},staticRenderFns:[]};var tt=s("VU/8")(q,K,!1,function(t){s("DAEq")},"data-v-63acaa3d",null).exports;var et={name:"searchList",data:function(){return{searchText:"",searchResult:[],start:0,count:20,hasMore:!0,isLoading:!1}},components:{loadmore:S},methods:P()({searchListScroll:function(){var t=this;this.scroll=new R.a(this.$refs.listWrapper,{click:!0}),this.scroll.on("scrollEnd",function(e){e.y<=t.scroll.maxScrollY+40&&t.inputSearch()})},inputSearch:function(){var t,e,s,a,i=this;this.isLoading||(this.isLoading=!0,(t=this.searchText,e=this.start,s=this.count,a=g()({},C,{q:t,start:e,count:s}),b.a.get("/v2/movie/search",{params:a}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})).then(function(t){var e=E(t.subjects);i.checkMoreData(t),i.searchResult=i.searchResult.concat(e),i.isLoading=!1,i.hasMore&&(i.start+=i.count)}))},checkMoreData:function(t){!t.subjects.length||t.start+t.count>t.total?(this.hasMore=!1,this.isLoading=!0):this.hasMore=!0},acceptInputBus:function(){var t=this;h.$on("inputListener",function(e){t.searchText=e})},saveSearch:function(){this.markSearchHistory(this.searchText)}},Object(X.b)(["markSearchHistory"])),mounted:function(){this.searchListScroll(),this.acceptInputBus()},watch:{searchText:function(){this.searchResult=[],this.start=0,this.inputSearch()}}},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"listWrapper",staticClass:"list-wrapper"},[s("ul",{staticClass:"list-container"},[t._l(t.searchResult,function(e){return s("router-link",{key:e.id,staticClass:"list",attrs:{to:/detail/+e.id,tag:"li"},nativeOn:{click:function(e){return t.saveSearch(e)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.images,expression:"item.images"}],staticClass:"list-img",attrs:{alt:""}}),t._v(" "),s("div",{staticClass:"list-info"},[s("div",{staticClass:"info-title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"info-other"},[t._v(t._s(e.searchShow))])])])}),t._v(" "),t.isLoading?s("loadmore",{attrs:{hasMoreData:t.hasMore}}):t._e()],2)])},staticRenderFns:[]};var at=s("VU/8")(et,st,!1,function(t){s("7qd+")},"data-v-2c048839",null).exports,it={name:"tagSearch",props:{tagSearchText:{type:String}},data:function(){return{tagSearchList:[],tagSearchStart:0,tagSearchCount:20,tagSearchIsLoading:!1,tagSearchHasMoreData:!0}},methods:{handleTagSearchScroll:function(){var t=this;this.scroll=new R.a(this.$refs.tagSearchWrapper,{click:!0,probeType:3}),this.scroll.on("scroll",function(e){e.y<=t.scroll.maxScrollY+40&&t.tagSearchLoadmoreFn()})},scrollTop:function(){this.scroll.scrollTo(0,0,500)},handleCloseTagSearch:function(){this.$emit("sendCloseTagSearch")},handleGetTagSearch:function(){var t,e,s,a,i=this;this.tagSearchIsLoading=!0,(t=this.tagSearchText,e=this.tagSearchStart,s=this.tagSearchCount,a=g()({},C,{tag:t,start:e,count:s}),b.a.get("/v2/movie/search",{params:a}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})).then(function(t){var e,s;i.tagSearchList=i.tagSearchList.concat((e=t.subjects,s=[],e.forEach(function(t,e){s.push({id:t.id,title:t.title,images:W(t.images.large),score:t.rating.average+"/"+j(t.pubdates)})}),s));var a=t.total;i.tagSearchStart+=i.tagSearchCount,i.tagSearchStart>=a?i.tagSearchHasMoreData=!1:i.tagSearchIsLoading=!1})},tagSearchLoadmoreFn:function(){this.tagSearchIsLoading||this.handleGetTagSearch()}},created:function(){this.handleGetTagSearch()},mounted:function(){this.handleTagSearchScroll()},components:{loadmore:S}},nt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tag-search"},[s("div",{staticClass:"header border-bottom"},[s("span",{staticClass:"iconfont back",on:{click:t.handleCloseTagSearch}},[t._v("")]),t._v(" "),s("span",{staticClass:"title"},[t._v("关于"+t._s(t.tagSearchText)+"的电影")]),t._v(" "),s("span",{staticClass:"iconfont towardtop",on:{click:t.scrollTop}},[t._v("")])]),t._v(" "),s("div",{ref:"tagSearchWrapper",staticClass:"tag-search-item-wrapper"},[s("ul",{staticClass:"tag-search-item-container"},[t._l(t.tagSearchList,function(e){return s("router-link",{key:e.id,staticClass:"tag-search-item",attrs:{tag:"li",to:/detail/+e.id}},[s("div",{staticClass:"tag-search-poster-block"},[s("img",{attrs:{src:e.images,alt:""}})]),t._v(" "),s("div",{staticClass:"tag-search-item-info"},[s("h3",{staticClass:"tag-search-item-info-title"},[t._v(t._s(e.title))]),t._v(" "),s("span",[t._v(t._s(e.score))])])])}),t._v(" "),t.tagSearchIsLoading?s("loadmore",{attrs:{hasMoreData:t.tagSearchHasMoreData}}):t._e()],2)])])},staticRenderFns:[]};var ot={name:"search",data:function(){return{searchText:"",tagSearchShow:!1,tagSearchText:""}},components:{searchInput:z,searchCategory:J,searchHistory:tt,searchList:at,tagSearch:s("VU/8")(it,nt,!1,function(t){s("IGIl")},"data-v-f7ce0792",null).exports},methods:{handleInput:function(t){this.searchText=t},sendTagSearch:function(t){this.tagSearchShow=!0,this.tagSearchText=t},closeTagSearch:function(){this.tagSearchShow=!1}}},rt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("search-input",{on:{checkInputOrNot:t.handleInput}}),t._v(" "),s("search-category",{on:{tagClick:t.sendTagSearch}}),t._v(" "),s("search-history"),t._v(" "),s("search-list",{directives:[{name:"show",rawName:"v-show",value:t.searchText.length,expression:"searchText.length"}]}),t._v(" "),t.tagSearchShow?s("tag-search",{attrs:{tagSearchText:t.tagSearchText},on:{sendCloseTagSearch:t.closeTagSearch}}):t._e()],1)},staticRenderFns:[]};var ct=s("VU/8")(ot,rt,!1,function(t){s("wPcl")},"data-v-c53afe4a",null).exports,lt={name:"detailPoster",props:{posterUrl:{type:String,default:""}}},ut={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"poster-block"},[e("img",{staticClass:"poster",attrs:{src:this.posterUrl,alt:""}})])])},staticRenderFns:[]};var ht=s("VU/8")(lt,ut,!1,function(t){s("nMYT")},"data-v-59a1351c",null).exports,dt={name:"imginfo",props:{movieDetailList:{type:Object}},data:function(){return{showScoreNum:!1,starStyle:{display:"block",padding:".3rem 0 .2rem"}}},computed:P()({score:function(){return this.movieDetailList.score},collectMovieList:function(){return{id:this.movieDetailList.id,images:this.movieDetailList.images,score:this.movieDetailList.score,title:this.movieDetailList.title,director:this.movieDetailList.directors,casts:this.movieDetailList.casts}}},Object(X.c)(["wantedMovies","watchedMovies"]),{wantWatch:function(){var t=this;return this.wantedMovies.findIndex(function(e){return e.id===t.collectMovieList.id})>-1},watched:function(){var t=this;return this.watchedMovies.findIndex(function(e){return e.id===t.collectMovieList.id})>-1}}),components:{star:T},methods:P()({tabWatch:function(){this.markWatchedMovie(this.collectMovieList)},tabWantWatch:function(){this.markWantedMovie(this.collectMovieList)}},Object(X.b)(["markWantedMovie","markWatchedMovie"]))},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"short-info-block"},[a("div",{staticClass:"info-block-top"},[a("div",{staticClass:"short-info"},[a("h1",[t._v(t._s(t.movieDetailList.title))]),t._v(" "),a("p",[t._v(t._s(t.movieDetailList.yearGenres))]),t._v(" "),a("p",[t._v(t._s(t.movieDetailList.original_title))]),t._v(" "),a("p",[t._v(t._s(t.movieDetailList.pubdates))]),t._v(" "),a("p",[t._v(t._s(t.movieDetailList.durations))])]),t._v(" "),a("div",{staticClass:"rating-block"},[a("span",{staticClass:"rating-text"},[t._v("豆瓣评分")]),t._v(" "),0!==t.movieDetailList.score?a("span",{staticClass:"rating-score"},[t._v(t._s(t.movieDetailList.score))]):t._e(),t._v(" "),a("star",{attrs:{score:t.score,showScoreNum:t.showScoreNum,showEmpty:!0,starStyle:t.starStyle}}),t._v(" "),0!==t.movieDetailList.score?a("span",{staticClass:"rating-text"},[t._v(t._s(t.movieDetailList.ratings_count))]):t._e()],1)]),t._v(" "),a("div",{staticClass:"info-block-bottom"},[a("div",{staticClass:"no-watch-yet",class:{wantWatch:!0===t.wantWatch},on:{click:t.tabWantWatch}},[t._v(t._s(t.wantWatch?"已想看":"想看"))]),t._v(" "),a("div",{staticClass:"watched",class:t.watched?"has-watched":"",on:{click:t.tabWatch}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.watched,expression:"watched"}],staticClass:"confirm-watched",attrs:{src:s("lS+k"),alt:""}}),t._v("\n        "+t._s(t.watched?"已看过":"看过 ☆☆☆☆☆")+"\n      ")])])])])},staticRenderFns:[]};var mt=s("VU/8")(dt,vt,!1,function(t){s("04iI")},"data-v-04ac41f7",null).exports,ft={name:"detailLonginfo",props:{movieDetailList:{default:{}}},methods:{castScroll:function(){this.scroll=new R.a(this.$refs.castWrapper,{scrollX:!0,eventPassthrough:"vertical"})},setContentWidth:function(){var t=(1.8+.08)*this.movieDetailList.castList.length-.08;this.$refs.castContent.style.width=t+"rem"}},watch:{movieDetailList:function(){this.setContentWidth()}},mounted:function(){this.castScroll()}},pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"long-info border-top"},[s("h1",[t._v("剧情简介")]),t._v(" "),s("p",[t._v("  "+t._s(t.movieDetailList.summary))])]),t._v(" "),s("div",{staticClass:"cast-list-container"},[s("h1",{staticClass:"cast-list-title"},[t._v("影人")]),t._v(" "),s("div",{ref:"castWrapper",staticClass:"cast-list-wrapper"},[s("div",{ref:"castContent",staticClass:"cast-content"},t._l(t.movieDetailList.castList,function(e,a){return s("router-link",{key:a,staticClass:"cast-list",attrs:{to:/celebrity/+e.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgurl,expression:"item.imgurl"}],staticClass:"cast-list-img",attrs:{alt:""}}),t._v(" "),s("p",{staticClass:"director-name"},[t._v(t._s(e.castName))]),t._v(" "),s("p",[t._v(t._s(e.castTitle))])])}))])])])},staticRenderFns:[]};var _t=s("VU/8")(ft,pt,!1,function(t){s("t5uD")},"data-v-f190bd9a",null).exports,gt={name:"shortComment",props:{popularComments:{type:Array,default:function(){return[]}},commentsCount:{type:Number,default:0}},data:function(){return{showScoreNum:!1}},components:{star:T}},wt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"short-commentList"},[t._l(t.popularComments,function(e){return s("li",{key:e.id,staticClass:"comment-block"},[s("div",{staticClass:"userImg-block"},[s("img",{staticClass:"userImg",attrs:{src:e.author.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"comment-content"},[s("div",[s("span",{staticClass:"userID"},[t._v(t._s(e.author.name))]),t._v(" "),s("div",{staticClass:"star"},[s("star",{attrs:{score:2*e.rating.value,showScoreNum:t.showScoreNum}})],1)]),t._v(" "),s("p",{staticClass:"comment"},[t._v(t._s(e.content))]),t._v(" "),s("p",{staticClass:"time"},[t._v(t._s(e.created_at))])]),t._v(" "),s("div",{staticClass:"like"},[s("span",{staticClass:"iconfont likeIcon"},[t._v("")]),t._v(" "),s("span",[t._v(t._s(e.useful_count))])])])}),t._v(" "),s("router-link",{staticClass:"all-short-comment",attrs:{to:{path:"comment"},append:"",tag:"div"}},[t._v("全部短评"+t._s(t.commentsCount)+"个")])],2)])},staticRenderFns:[]};var bt=s("VU/8")(gt,wt,!1,function(t){s("dLlB")},"data-v-3f257d2b",null).exports,Ct={name:"longComment",props:{popularReviews:{type:Array,default:function(){return[]}},reviewsCount:{type:Number,default:0}},data:function(){return{score:8,showScoreNum:!1}},components:{star:T}},kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"long-commentList"},[t._l(t.popularReviews,function(e){return s("router-link",{key:e.id,staticClass:"comment-item",attrs:{to:{path:"review/"+e.id},append:"",tag:"li"}},[s("h1",{staticClass:"comment-title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"user-info"},[s("img",{attrs:{src:e.author.avatar,alt:""}}),t._v(" "),s("span",{staticClass:"user-name"},[t._v(t._s(e.author.name))]),t._v(" "),s("div",{staticClass:"star"},[s("star",{attrs:{score:2*e.rating.value,showScoreNum:t.showScoreNum}})],1)]),t._v(" "),s("p",{staticClass:"desc"},[t._v(t._s(e.summary))])])}),t._v(" "),s("router-link",{staticClass:"all-long-comment",attrs:{to:{path:"review"},append:"",tag:"div"}},[t._v("全部影评"+t._s(t.reviewsCount)+"个")])],2)])},staticRenderFns:[]};var Lt={name:"movieDetail",components:{poster:ht,detailShortinfo:mt,detailLonginfo:_t,detailShortcomment:bt,detailLongcomment:s("VU/8")(Ct,kt,!1,function(t){s("rzjq")},"data-v-785856ae",null).exports},data:function(){return{tabComment:!0,movieDetailList:{},popularComments:[],popularReviews:[],commentsCount:0,reviewsCount:0}},methods:{handleTabComment:function(t){var e=this.$refs.tabCommentBtn;t.target===e?this.tabComment=!0:this.tabComment=!1},handleMovieDetail:function(){var t=this;(function(t){var e="/v2/movie/subject/"+t,s=g()({},C);return b.a.get(e,{params:s}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})})(this.$route.params.id).then(function(e){t.movieDetailList=A(e),t.popularComments=t.movieDetailList.popular_comments,t.popularReviews=t.movieDetailList.popular_reviews,t.commentsCount=t.movieDetailList.comments_count,t.reviewsCount=t.movieDetailList.reviews_count})}},mounted:function(){this.handleMovieDetail()}},St={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"info-header"},[s("span",{staticClass:"iconfont back",on:{click:function(e){t.$router.go(-1)}}},[t._v("")]),t._v(" "),s("span",{staticClass:"iconfont camera"},[t._v("")]),t._v("\n    电影\n  ")]),t._v(" "),s("poster",{attrs:{posterUrl:t.movieDetailList.images}}),t._v(" "),s("div",{staticClass:"info"},[s("detail-shortinfo",{attrs:{movieDetailList:t.movieDetailList}}),t._v(" "),s("detail-longinfo",{attrs:{movieDetailList:t.movieDetailList}})],1),t._v(" "),s("div",{staticClass:"comment"},[s("div",{staticClass:"tabComment border-top"},[s("div",{ref:"tabCommentBtn",staticClass:"tabCommentBtn",class:t.tabComment?"commentActive":"",on:{click:t.handleTabComment}},[t._v("短评")]),t._v(" "),s("div",{staticClass:"tabCommentBtn",class:t.tabComment?"":"commentActive",on:{click:t.handleTabComment}},[t._v("影评")])]),t._v(" "),t.tabComment?s("detail-shortcomment",{attrs:{popularComments:t.popularComments,commentsCount:t.commentsCount}}):s("detail-longcomment",{attrs:{popularReviews:t.popularReviews,reviewsCount:t.reviewsCount}})],1)],1)},staticRenderFns:[]};var yt=s("VU/8")(Lt,St,!1,function(t){s("9xeA")},"data-v-b7108a5c",null).exports,Dt={name:"comment",data:function(){return{score:7,showScoreNum:!1,commentList:[],movieName:"",total:0,start:0,count:20,isLoading:!1,hasMoreData:!0}},components:{star:T,loadmore:S},methods:{handleScroll:function(){var t=this;this.scroll=new R.a(this.$refs.commentWrapper),this.scroll.on("scrollEnd",function(e){e.y<=t.scroll.maxScrollY+40&&t.loadMoreFn()})},scrollTop:function(){this.scroll.scrollTo(0,0,500)},handleGetComment:function(t,e){var s=this;this.isLoading=!0,function(t,e,s){var a="/v2/movie/subject/"+t+"/comments",i=g()({},C,{start:e,count:s});return b.a.get(a,{params:i}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}(this.$route.params.id,t,e).then(function(t){s.commentList=s.commentList.concat(t.comments),s.movieName=s.movieName.length?s.movieName:t.subject.title,s.total=0===s.total?t.total:s.total,s.start+=s.count,s.start>=s.total?(s.hasMoreData=!1,s.isLoading=!0):s.isLoading=!1})},loadMoreFn:function(){this.isLoading||this.handleGetComment(this.start,this.count)}},mounted:function(){this.handleScroll(),this.handleGetComment(this.start,this.count)}},Tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header border-bottom"},[s("span",{staticClass:"iconfont back",on:{click:function(e){t.$router.go(-1)}}},[t._v("")]),t._v(" "),s("span",{staticClass:"title"},[t._v(t._s(t.movieName)+"的全部短评")]),t._v(" "),s("span",{staticClass:"iconfont towardtop",on:{click:t.scrollTop}},[t._v("")])]),t._v(" "),s("div",{ref:"commentWrapper",staticClass:"commentWrapper"},[s("ul",{staticClass:"comment"},[s("h1",[t._v("短评"+t._s(t.total)+"条")]),t._v(" "),t._l(t.commentList,function(e){return s("li",{key:e.id,staticClass:"comment-item"},[s("div",{staticClass:"userImg-block"},[s("img",{staticClass:"userImg",attrs:{src:e.author.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"comment-item-right"},[s("div",{staticClass:"right-item-top"},[s("span",{staticClass:"userID"},[t._v(t._s(e.author.name))]),t._v(" "),s("star",{attrs:{score:2*e.rating.value,showScoreNum:t.showScoreNum}}),t._v(" "),s("div",{staticClass:"like"},[s("span",{staticClass:"iconfont"},[t._v("")]),t._v("\n              "+t._s(e.useful_count)+"\n            ")])],1),t._v(" "),s("p",{staticClass:"comment-content"},[t._v(t._s(e.content))]),t._v(" "),s("p",{staticClass:"time"},[t._v(t._s(e.created_at))])])])}),t._v(" "),t.isLoading?s("loadmore",{attrs:{hasMoreData:t.hasMoreData}}):t._e()],2)])])},staticRenderFns:[]};var xt=s("VU/8")(Dt,Tt,!1,function(t){s("gpcy")},"data-v-167b83cc",null).exports,It={name:"reviews",data:function(){return{score:7,showScoreNum:!1,start:0,count:20,movieName:"",total:0,reviewsList:[],isLoading:!1,hasMoreData:!0}},components:{star:T,loadmore:S},methods:{handleGetReview:function(t,e){var s=this,a=this.$route.params.id;this.isLoading=!0,function(t,e,s){var a="/v2/movie/subject/"+t+"/reviews",i=g()({},C,{start:e,count:s});return b.a.get(a,{params:i}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}(a,t,e).then(function(t){s.reviewsList=s.reviewsList.concat(t.reviews),s.movieName=s.movieName.length?s.movieName:t.subject.title,s.total=0===s.total?t.total:s.total,s.start+=s.count,s.start>=s.total?(s.hasMoreData=!1,s.isLoading=!0):s.isLoading=!1})},loadMoreFn:function(){this.isLoading||this.handleGetReview(this.start,this.count)},handleScroll:function(){var t=this;this.scroll=new R.a(this.$refs.commentWrapper,{click:!0}),this.scroll.on("scrollEnd",function(e){e.y<=t.scroll.maxScrollY+40&&t.loadMoreFn()})},scrollTop:function(){this.scroll.scrollTo(0,0,500)}},mounted:function(){this.handleScroll(),this.handleGetReview(this.start,this.count)}},Mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header border-bottom"},[s("span",{staticClass:"iconfont back",on:{click:function(e){t.$router.go(-1)}}},[t._v("")]),t._v(" "),s("span",{staticClass:"title"},[t._v(t._s(t.movieName)+"的全部影评")]),t._v(" "),s("span",{staticClass:"iconfont towardtop",on:{click:t.scrollTop}},[t._v("")])]),t._v(" "),s("div",{ref:"commentWrapper",staticClass:"commentWrapper"},[s("ul",{staticClass:"comment"},[s("h1",[t._v("影评"+t._s(t.total)+"条")]),t._v(" "),t._l(t.reviewsList,function(e){return s("router-link",{key:e.id,staticClass:"comment-item",attrs:{to:{path:e.id},append:""}},[s("h2",[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"user-block"},[s("div",{staticClass:"userImg-block"},[s("img",{staticClass:"userImg",attrs:{src:e.author.avatar,alt:""}})]),t._v(" "),s("span",{staticClass:"userID"},[t._v(t._s(e.author.name))]),t._v(" "),s("star",{attrs:{score:2*e.rating.value,showScoreNum:t.showScoreNum}})],1),t._v(" "),s("p",{staticClass:"comment-content"},[t._v(t._s(e.summary))])])}),t._v(" "),t.isLoading?s("loadmore",{attrs:{hasMoreData:t.hasMoreData}}):t._e()],2)])])},staticRenderFns:[]};var Rt=s("VU/8")(It,Mt,!1,function(t){s("+7VH")},"data-v-427746ae",null).exports,Et={name:"reviewDetail",data:function(){return{reviewDetail:{},reviewUser:{},showScoreNum:!1,score:0}},components:{star:T},methods:{handleReviewDetailScroll:function(){this.scroll=new R.a(this.$refs.reviewDetailWrapper)},handleGetReviewDetail:function(){var t,e,s,a=this,i=this.$route.params.reviewID;(t=i,e="/v2/movie/review/"+t,s=g()({},C),b.a.get(e,{params:s}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})).then(function(t){a.reviewDetail=t,a.reviewUser=t.author,a.score=t.rating.value})}},mounted:function(){this.handleReviewDetailScroll(),this.handleGetReviewDetail()}},Nt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header border-bottom"},[s("span",{staticClass:"iconfont back",on:{click:function(e){t.$router.go(-1)}}},[t._v("")]),t._v(" "),s("span",{staticClass:"title"},[t._v("影评")])]),t._v(" "),s("div",{ref:"reviewDetailWrapper",staticClass:"reviewDetailWrapper"},[s("div",{staticClass:"container"},[s("h1",[t._v(t._s(t.reviewDetail.title))]),t._v(" "),s("div",{staticClass:"user-block"},[s("div",{staticClass:"userImg-block"},[s("img",{staticClass:"userImg",attrs:{src:t.reviewUser.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"user"},[s("h2",[s("span",{staticClass:"username"},[t._v(t._s(t.reviewUser.name))]),t._v("的影评")]),t._v(" "),s("span",[t._v(t._s(t.reviewDetail.created_at))]),t._v(" "),s("star",{attrs:{score:2*t.score,showScoreNum:t.showScoreNum}})],1)]),t._v(" "),s("p",{staticClass:"content"},[t._v(t._s(t.reviewDetail.content))]),t._v(" "),s("div",{staticClass:"bottom"},[s("p",[t._v("\n          本文版权归 "+t._s(t.reviewUser.name)+" 所有，任何形式转载请联系作者\n        ")]),t._v(" "),t._m(0),t._v(" "),s("div",[s("span",{staticClass:"userfulBtn userful"},[t._v("有用("+t._s(t.reviewDetail.useful_count)+")")]),t._v(" "),s("span",{staticClass:"userfulBtn"},[t._v("没用("+t._s(t.reviewDetail.useless_count)+")")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"endLine"},[e("div",{staticClass:"line"}),this._v(" "),e("span",[this._v("THE END")])])}]};var At=s("VU/8")(Et,Nt,!1,function(t){s("polh")},"data-v-7196bd94",null).exports,Bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view")],1)},staticRenderFns:[]};var Wt=s("VU/8")({name:"detailContainer"},Bt,!1,function(t){s("cmj2")},"data-v-14b8e51c",null).exports,Ft={name:"switches",props:{switches:{type:Array,default:function(){return[]}},smallFont:{type:Boolean,default:!1},propIndex:{default:null}},data:function(){return{currentIndex:0}},methods:{switchItem:function(t){this.$emit("switch",t),this.currentIndex=t}},watch:{propIndex:function(){this.currentIndex=this.propIndex}}},jt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"switches"},t._l(t.switches,function(e,a){return s("div",{key:a,staticClass:"switches-item",class:{active:t.currentIndex===a,"small-font":!0===t.smallFont},on:{click:function(e){t.switchItem(a)}}},[t._v(t._s(e))])}))])},staticRenderFns:[]};var Ut=s("VU/8")(Ft,jt,!1,function(t){s("4o78")},"data-v-77df18d5",null).exports,Ht={name:"user",data:function(){return{nowIndex:0,switches:["想看","看过","影人"],showList:[]}},computed:P()({},Object(X.c)(["wantedMovies","watchedMovies","celebrities"])),methods:{userClick:function(t){2===this.nowIndex?this.$router.push("/celebrity/"+t):this.$router.push("/detail/"+t)},switchTab:function(t){switch(this.nowIndex=t,t){case 0:this.showList=this.wantedMovies;break;case 1:this.showList=this.watchedMovies;break;case 2:this.showList=this.celebrities}},handleUserScroll:function(){this.scroll=new R.a(this.$refs.userListWrapper,{click:!0})}},mounted:function(){this.showList=this.wantedMovies},updated:function(){this.handleUserScroll()},components:{switches:Ut,star:T}},Yt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-center"},[t._m(0),t._v(" "),s("switches",{staticClass:"switch",attrs:{switches:t.switches},on:{switch:t.switchTab}}),t._v(" "),s("div",{staticClass:"movie-num"},[t._v(t._s(t.showList.length)+" "+t._s(2===t.nowIndex?"人":"部"))]),t._v(" "),s("div",{ref:"userListWrapper",staticClass:"userList-wrapper"},[s("ul",t._l(t.showList,function(e){return s("li",{key:e.id,staticClass:"user-moveList",on:{click:function(s){t.userClick(e.id)}}},[s("div",{staticClass:"poster"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.images,expression:"item.images"}],attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"info"},[s("span",{staticClass:"movie-name",domProps:{textContent:t._s(2===t.nowIndex?e.name:e.title)}}),t._v(" "),2!==t.nowIndex?s("star",{attrs:{score:e.score}}):t._e(),t._v(" "),2!==t.nowIndex?s("span",[t._v(t._s("导演："+e.title))]):t._e(),t._v(" "),2!==t.nowIndex?s("span",[t._v(t._s("主演："+e.casts))]):t._e(),t._v(" "),2===t.nowIndex?s("p",[t._v(t._s("代表作："+e.productions))]):t._e()],1)])}))])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:s("lS+k"),alt:""}})]),this._v(" "),e("div",{staticClass:"name"},[this._v("豆瓣用户")])])}]};var Gt=s("VU/8")(Ht,Yt,!1,function(t){s("1Qbg")},"data-v-13d4a8c9",null).exports;var Ot={name:"celebrity",data:function(){return{productionList:[],celebrityList:[],posterImg:""}},computed:P()({productionBerif:function(){for(var t="",e=0;e<3;e++)this.productionList[e]&&(0===t.length?t+=this.productionList[e].title:t+="/"+this.productionList[e].title);return t},collectCelebrity:function(){return{id:this.$route.params.celebrityID,images:this.posterImg,name:this.celebrityList.name,productions:this.productionBerif}}},Object(X.c)(["celebrities"]),{collected:function(){var t=this;return this.celebrities.findIndex(function(e){return e.id===t.collectCelebrity.id})>-1}}),methods:P()({handleScroll:function(){this.scroll=new R.a(this.$refs.productionWrapper,{click:!0,scrollX:!0,eventPassthrough:"vertical"})},handleCollect:function(){this.markCelebrity(this.collectCelebrity)},handleGetCelebrity:function(){var t,e,s,a=this,i=this.$route.params.celebrityID;(t=i,e="/v2/movie/celebrity/"+t,s=g()({},C),b.a.get(e,{params:s}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})).then(function(t){a.celebrityList=t,a.posterImg=a.getPoster(t.avatars.large),a.productionList=a.handleProduction(t.works)})},setProductionListWidth:function(){var t=this.$refs.productionList,e=1.96*this.productionList.length-.16;t.style.width=e+"rem"},getPoster:function(t){if(t)return"https://images.weserv.nl/?url="+t.substring(7)},handleProduction:function(t){var e=this,s=[];return t.forEach(function(t,a){s.push({id:t.subject.id,title:t.subject.title,score:t.subject.rating.average,images:e.getPoster(t.subject.images.large)})}),s}},Object(X.b)(["markCelebrity"])),created:function(){this.handleGetCelebrity()},mounted:function(){this.handleScroll(),this.setProductionListWidth()},components:{poster:ht,star:T}},$t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"celebrity-header"},[s("span",{staticClass:"iconfont back",on:{click:function(e){t.$router.go(-1)}}},[t._v("")]),t._v("\n    影人\n  ")]),t._v(" "),s("poster",{attrs:{posterUrl:t.posterImg}}),t._v(" "),s("div",{staticClass:"celebrity-info"},[s("div",{staticClass:"celebrity-name-block"},[s("div",{staticClass:"celebrity-name"},[s("p",{staticClass:"name-cn"},[t._v(t._s(t.celebrityList.name))]),t._v(" "),s("p",[t._v(t._s(t.celebrityList.name_en))])]),t._v(" "),s("div",{staticClass:"collectBtn",class:t.collected?"collected":"uncollect",on:{click:t.handleCollect}},[s("span",{staticClass:"iconfont iconsize"},[t._v("")]),t._v("\n        "+t._s(t.collected?"已收藏":"收藏")+"\n      ")])]),t._v(" "),s("div",{staticClass:"celebrity-block"},[s("h1",[t._v("个人简介")]),t._v(" "),s("p",{staticClass:"introduce-content"},[t._v("\n        "+t._s(t.celebrityList.summary)+"\n        "),s("span",{staticClass:"iconfont toward"},[t._v("")])])]),t._v(" "),s("div",{staticClass:"celebrity-block"},[s("h1",[t._v("代表作品")]),t._v(" "),s("div",{ref:"productionWrapper",staticClass:"production-wrapper"},[s("div",{ref:"productionList",staticClass:"production-list"},t._l(t.productionList,function(e){return s("router-link",{key:e.id,staticClass:"production",attrs:{to:/detail/+e.id,tag:"div"}},[s("img",{staticClass:"production-poster",attrs:{src:e.images,alt:""}}),t._v(" "),s("p",{staticClass:"production-name"},[t._v(t._s(e.title))]),t._v(" "),s("star",{attrs:{score:e.score}})],1)}))])]),t._v(" "),s("router-link",{staticClass:"showAllWorkBtn border-top",attrs:{to:{path:"works"},append:"",tag:"div"}},[t._v("\n      查看所有作品\n      "),s("span",{staticClass:"iconfont toward"},[t._v("")])])],1)],1)},staticRenderFns:[]};var Vt=s("VU/8")(Ot,$t,!1,function(t){s("SfVv")},"data-v-0a0932e4",null).exports,zt={name:"allworks",data:function(){return{allWorksList:[],start:0,count:20,total:0,isLoading:!1,hasMoreData:!0}},components:{star:T,loadmore:S},methods:{loadMoreFn:function(){this.isLoading||this.handleGetAllWorks(this.start,this.count)},handleGetAllWorks:function(t,e){var s=this,a=this.$route.params.celebrityID;this.isLoading=!0,function(t,e,s){var a="/v2/movie/celebrity/"+t+"/works",i=g()({},C,{start:e,count:s});return b.a.get(a,{params:i}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}(a,t,e).then(function(t){var e,a;s.allWorksList=s.allWorksList.concat((e=t.works,a=[],e.forEach(function(t,e){var s;a.push({id:t.subject.id,title:t.subject.title,images:W(t.subject.images.large),casts:(s=t.subject.casts,s.length?s[0].name:""),directors:F(t.subject.directors),score:t.subject.rating.average})}),a)),s.total=0===s.total?t.total:s.total,s.start+=s.count,s.start>=s.total?(s.hasMoreData=!1,s.isLoading=!0):s.isLoading=!1})},handleScroll:function(){var t=this;this.scroll=new R.a(this.$refs.worksListWrapper,{click:!0}),this.scroll.on("scrollEnd",function(e){e.y<=t.scroll.maxScrollY+40&&t.loadMoreFn()})},scrollTop:function(){this.scroll.scrollTo(0,0,500)}},mounted:function(){this.handleScroll()},created:function(){this.handleGetAllWorks(this.start,this.count)}},Qt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header border-bottom"},[s("span",{staticClass:"iconfont back",on:{click:function(e){t.$router.go(-1)}}},[t._v("")]),t._v(" "),s("span",{staticClass:"title"},[t._v("全部作品")]),t._v(" "),s("span",{staticClass:"iconfont towardtop",on:{click:t.scrollTop}},[t._v("")])]),t._v(" "),s("div",{ref:"worksListWrapper",staticClass:"works-list"},[s("ul",{staticClass:"works-list-container"},[t._l(t.allWorksList,function(e){return s("router-link",{key:e.id,staticClass:"works-item border-bottom",attrs:{to:/detail/+e.id,tag:"li"}},[s("div",{staticClass:"poster-block"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.images,expression:"item.images"}],attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"info"},[s("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("star",{attrs:{score:e.score}}),t._v(" "),s("span",[t._v("导演："+t._s(e.directors))]),t._v(" "),s("span",[t._v("主演："+t._s(e.casts))])],1)])}),t._v(" "),t.isLoading?s("loadmore",{attrs:{hasMoreData:t.hasMoreData}}):t._e()],2)])])},staticRenderFns:[]};var Jt=s("VU/8")(zt,Qt,!1,function(t){s("Utjk")},"data-v-e5fd79e4",null).exports,Zt={name:"billboard",props:{bgLinearColor:{type:Array,default:function(){return["#e1a708","#efd491"]}},billboardList:{type:Object,default:function(){return{}}}}},Pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rank-item",style:"background: linear-gradient("+t.billboardList.bgLinearColor[0]+","+t.billboardList.bgLinearColor[1]+")"},[s("div",{staticClass:"desc"},[s("h2",[t._v(t._s(t.billboardList.boardDesc))]),t._v(" "),s("span",[t._v(t._s(t.billboardList.secDesc))])]),t._v(" "),s("div",{staticClass:"rank-img"},t._l(t.billboardList.imgGroup,function(t,e){return s("img",{key:e,class:{middle:0===e,left:1===e},attrs:{src:t,alt:""}})}))])},staticRenderFns:[]};var Xt=s("VU/8")(Zt,Pt,!1,function(t){s("BNwI")},"data-v-191feb39",null).exports;function qt(t,e){var s=g()({},C,{start:t,count:e});return b.a.get("/v2/movie/top250",{params:s}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}function Kt(){var t=g()({},C);return b.a.get("/v2/movie/weekly",{params:t}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}function te(){var t=g()({},C);return b.a.get("/v2/movie/us_box",{params:t}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}function ee(){var t=g()({},C);return b.a.get("/v2/movie/new_movies",{params:t}).then(function(t){return p.a.resolve(t.data)}).catch(function(t){console.log(t)})}var se=s("Zrlr"),ae=s.n(se),ie=s("wxAW"),ne=s.n(ie),oe=function(){function t(){ae()(this,t);var e=new Date;this.nowYear=e.getFullYear(),this.nowMonth=e.getMonth(),this.nowDay=e.getDate(),this.nowDayWeek=e.getDay(),this.nowDayWeek=0===this.nowDayWeek?7:this.nowDayWeek}return ne()(t,[{key:"formatDate",value:function(t){return t.getMonth()+1+"月"+t.getDate()+"日"}},{key:"getWeekStartDate",value:function(){var t=new Date(this.nowYear,this.nowMonth,this.nowDay-this.nowDayWeek+1);return this.formatDate(t)}},{key:"getWeekEndDate",value:function(){var t=new Date(this.nowYear,this.nowMonth,this.nowDay+(6-this.nowDayWeek+1));return this.formatDate(t)}}]),t}(),re={name:"rank",data:function(){return{billboardList:[{rankType:"top250",boardDesc:"豆瓣 Top250",secDesc:"8分以上好电影",imgGroup:[],bgLinearColor:["#e1a708","#efd491"]},{rankType:"weekly",boardDesc:"本周口碑榜",secDesc:"",imgGroup:[],bgLinearColor:["#32c05e","#a1e5be"]},{rankType:"new-movies",boardDesc:"新片榜",secDesc:"",imgGroup:[],bgLinearColor:["#a361c3","#d9b9e8"]},{rankType:"us_box",boardDesc:"北美票房榜",secDesc:"",imgGroup:[],bgLinearColor:["#dd7286","#f3b9c5"]}],weekDate:""}},methods:{goDetail:function(t){this.$router.push("/rank/"+t)},handleBriefScroll:function(){this.scroll=new R.a(this.$refs.RankBriefWrapper,{click:!0})},getPoster:function(t){if(t)return"https://images.weserv.nl/?url="+t.substring(7)},filterUrl:function(t){var e=this,s=[];return t.forEach(function(t,a){var i=t.subjects.slice(0,3);s[a]=[],i.forEach(function(t){s[a].push(e.getPoster(t.subject?t.subject.images.medium:t.images.medium))})}),s},getBriefRank:function(){var t=this;p.a.all([qt(0,3),Kt(),ee(),te()]).then(function(e){t.filterUrl(e).forEach(function(e,s){t.billboardList[s].imgGroup=e})})},getWeekDate:function(){var t=new oe,e=t.getWeekStartDate(),s=t.getWeekEndDate();this.billboardList.forEach(function(t,a){0===t.secDesc.length&&(t.secDesc=e+"-"+s)})}},mounted:function(){this.handleBriefScroll()},created:function(){this.getBriefRank(),this.getWeekDate()},components:{rankBillboard:Xt}},ce={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"search"},[t._m(0),t._v(" "),s("router-link",{staticClass:"searchInput",attrs:{to:"/search",tag:"div"}},[s("span",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v('电影/影人/标签"')])])],1),t._v(" "),s("div",{ref:"RankBriefWrapper",staticClass:"rank-list-wrapper"},[s("div",{staticClass:"rank-list-container"},[s("h1",{staticClass:"title"},[t._v("精选榜单")]),t._v(" "),t._l(t.billboardList,function(e,a){return s("rank-billboard",{key:a,attrs:{billboardList:e},nativeOn:{click:function(s){t.goDetail(e.rankType)}}})})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{staticClass:"logoImg",attrs:{src:s("7Otq"),alt:""}})])}]};var le=s("VU/8")(re,ce,!1,function(t){s("G4/b")},"data-v-2f431846",null).exports,ue={name:"rankDetail",data:function(){return{switchesList:["1-50","51-100","101-150","151-200","201-250"],dataFn:null,rankName:"",showTop250:!1,start:0,count:10,rankList:[],isLoading:!0,hasMoreData:[],rankIndex:0}},methods:{getNowRank:function(){switch(this.$route.params.rankType){case"top250":this.dataFn=qt,this.rankName="豆瓣 Top250",this.showTop250=!0;break;case"weekly":this.dataFn=Kt,this.rankName="本周口碑榜";break;case"new-movies":this.dataFn=ee,this.rankName="新片榜";break;case"us_box":this.dataFn=te,this.rankName="北美票房榜"}},handleSwitch:function(t){this.rankIndex=t},loadMoreFn:function(){!this.isLoading&&this.hasMoreData[this.rankIndex]&&this.getRankData()},getRankData:function(){var t=this;this.isLoading=!0,this.start=this.rankList[this.rankIndex].length?this.rankList[this.rankIndex].length+50*this.rankIndex:50*this.rankIndex,this.showTop250?this.dataFn(this.start,this.count).then(function(e){t.rankList[t.rankIndex]=t.rankList[t.rankIndex].concat(N(e.subjects));var s=50*(t.rankIndex+1);t.start+=t.count,t.isLoading=!1,t.start>=s&&(t.hasMoreData[t.rankIndex]=!1)}):this.dataFn().then(function(e){t.rankList[0]=N(e.subjects),t.isLoading=!1})},handleRankListScroll:function(){var t=this;this.scroll=new R.a(this.$refs.rankListWrapper,{click:!0}),this.showTop250&&this.scroll.on("scrollEnd",function(e){e.y<=t.scroll.maxScrollY+40&&t.loadMoreFn()})}},watch:{rankIndex:function(){this.rankList[this.rankIndex].length||this.getRankData()}},created:function(){for(var t=0;t<this.switchesList.length;t++)this.$set(this.rankList,t,[]),this.$set(this.hasMoreData,t,!0);this.getNowRank(),this.getRankData()},mounted:function(){this.handleRankListScroll()},components:{switches:Ut,star:T,loadmore:S}},he={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"header border-bottom"},[s("span",{staticClass:"iconfont back",on:{click:function(e){t.$router.go(-1)}}},[t._v("")]),t._v(" "),s("span",{staticClass:"title"},[t._v(t._s(t.rankName))])]),t._v(" "),t.showTop250?s("switches",{attrs:{switches:t.switchesList,smallFont:!0},on:{switch:t.handleSwitch}}):t._e(),t._v(" "),s("div",{ref:"rankListWrapper",staticClass:"rank-list-wrapper",class:t.showTop250?"top250-rank":"other-rank"},[s("ul",{staticClass:"rank-list"},[t._l(t.rankList[t.rankIndex],function(e,a){return s("router-link",{key:a,staticClass:"rank-item",attrs:{to:/detail/+e.id,tag:"li"}},[s("div",{staticClass:"item-index-block"},[s("div",{staticClass:"line"}),t._v(" "),s("span",{staticClass:"item-index"},[t._v(t._s(50*t.rankIndex+a+1))])]),t._v(" "),s("div",{staticClass:"item-info border"},[s("div",{staticClass:"poster-block"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.images,expression:"item.images"}],staticClass:"poster",attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"movie-info"},[s("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("star",{attrs:{score:e.score}}),t._v(" "),s("span",[t._v("导演："+t._s(e.directors))]),t._v(" "),s("span",[t._v("主演: "+t._s(e.casts))])],1)])])}),t._v(" "),t.isLoading?s("loadmore",{attrs:{hasMoreData:t.hasMoreData[t.rankIndex]}}):t._e()],2)])],1)},staticRenderFns:[]};var de=s("VU/8")(ue,he,!1,function(t){s("+IT2")},"data-v-53e02af6",null).exports;n.a.use(u.a);var ve=new u.a({routes:[{path:"/",redirect:"/movie-show"},{path:"/movie-show",name:"home",component:O},{path:"/search",name:"search",component:ct},{path:"/detail/:id",component:Wt,children:[{path:"",name:"detail",component:yt},{path:"review",name:"review",component:Rt},{path:"review/:reviewID",name:"reviewDetail",component:At}]},{path:"/detail/:id/comment",name:"comment",component:xt},{path:"/user",component:Gt},{path:"/celebrity/:celebrityID",name:"celebrity",component:Vt},{path:"/celebrity/:celebrityID/works",name:"allworks",component:Jt},{path:"/rank",name:"rank",component:le},{path:"/rank/:rankType",name:"rankDetail",component:de}],mode:"history",scrollBehavior:function(t,e,s){return{x:0,y:0}}}),me=s("mvHQ"),fe=s.n(me);function pe(t,e,s){var a=window.localStorage._doubanMovie_;a?(a=JSON.parse(a))[t]||(a[t]={}):(a={})[t]={},a[t][e]=s,window.localStorage._doubanMovie_=fe()(a)}function _e(t,e,s){var a=window.localStorage._doubanMovie_;return a&&(a=JSON.parse(a)[t])&&a[e]||s}var ge="testUser",we="_wanted_",be="_watched_",Ce="_celebrity_",ke="_searchHistory_";var Le,Se={movie:{},wantedMovies:_e(ge,we,[]),watchedMovies:_e(ge,be,[]),celebrities:_e(ge,Ce,[]),searchHistory:_e(ge,ke,[])},ye=s("bOdI"),De=s.n(ye),Te=(Le={},De()(Le,"SET_WANTED_MOVIES",function(t,e){t.wantedMovies=e}),De()(Le,"SET_WATCHEDED_MOVIES",function(t,e){t.watchedMovies=e}),De()(Le,"SET_CELEBRITIES",function(t,e){t.celebrities=e}),De()(Le,"SAVE_SEARCHHISTORY",function(t,e){t.searchHistory=e}),De()(Le,"DELETE_SEARCHHISTORY",function(t,e){t.searchHistory=e}),De()(Le,"CLEAR_SEARCHHISTORY",function(t,e){t.searchHistory=e}),Le),xe=function(t,e){(0,t.commit)("SET_WANTED_MOVIES",function(t){var e=_e(ge,we,[]),s=e.findIndex(function(e){return e.id===t.id});return-1===s?e.push(t):e.splice(s,1),pe(ge,we,e),e}(e))},Ie=function(t,e){(0,t.commit)("SET_WATCHEDED_MOVIES",function(t){var e=_e(ge,be,[]),s=e.findIndex(function(e){return e.id===t.id});return-1===s?e.push(t):e.splice(s,1),pe(ge,be,e),e}(e))},Me=function(t,e){(0,t.commit)("SET_CELEBRITIES",function(t){var e=_e(ge,Ce,[]),s=e.findIndex(function(e){return e.id===t.id});return-1===s?e.push(t):e.splice(s,1),pe(ge,Ce,e),e}(e))},Re=function(t,e){(0,t.commit)("SAVE_SEARCHHISTORY",function(t){var e=_e(ge,ke,[]);return-1===e.findIndex(function(e){return e===t})&&e.unshift(t),pe(ge,ke,e),e}(e))},Ee=function(t,e){(0,t.commit)("DELETE_SEARCHHISTORY",function(t){var e=_e(ge,ke,[]),s=e.findIndex(function(e){return e===t});return e.splice(s,1),pe(ge,ke,e),e}(e))},Ne=function(t){(0,t.commit)("CLEAR_SEARCHHISTORY",(pe(ge,ke,[]),[]))},Ae=function(t){return t.wantedMovies},Be=function(t){return t.watchedMovies},We=function(t){return t.celebrities},Fe=function(t){return t.searchHistory};n.a.use(X.a);var je=new X.a.Store({state:Se,mutations:Te,actions:a,getters:i}),Ue=(s("M6Sr"),s("9n10"),s("TzC8"),s("v2ns"),s("7QTg")),He=s.n(Ue),Ye=s("cTzj"),Ge=s.n(Ye),Oe=s("v5o6"),$e=s.n(Oe);n.a.config.productionTip=!1,n.a.use(He.a),n.a.use(Ge.a,{loading:s("G/2H")}),$e.a.attach(document.body),new n.a({el:"#app",router:ve,store:je,components:{App:l},template:"<App/>"})},Q88Y:function(t,e){},SfVv:function(t,e){},TzC8:function(t,e){},Utjk:function(t,e){},Uw8Q:function(t,e){},cmj2:function(t,e){},dLlB:function(t,e){},gpcy:function(t,e){},iHd7:function(t,e){},"lS+k":function(t,e,s){t.exports=s.p+"static/img/avatar.ab7112d.jpg"},nMYT:function(t,e){},pfoN:function(t,e){},polh:function(t,e){},rzjq:function(t,e){},t5uD:function(t,e){},v2ns:function(t,e){},vnw2:function(t,e){},wPcl:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9f4ba092f707cd60196b.js.map